<canvas id="canvas"></canvas>


<style>
canvas{
	background: #eee;
	border: 1px solid #f00;
}
</style>

<script type="text/javascript">
var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

function loadImg(src){
	var img = new Image();

	img.src = src;
	img.onload = function(){
		canvas.width = 200/this.width * this.width;
		canvas.height = 200/this.height * this.height;

		ctx.clearRect(0, 0, canvas.width, canvas.height);

		console.log(200/canvas.width)

		ctx.scale(200/this.width, 200/this.height)

		ctx.drawImage(img,0,0);

		console.log(canvas.toDataURL('image/jpeg', 0.9))
	}
}


// loadImg('1.png')

</script>